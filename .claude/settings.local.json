{
  "permissions": {
    "allow": [
      "Bash(npx tsc:*)",
      "Bash(npx vite:*)",
      "Bash(pnpm build:*)",
      "Bash(npm run build:*)",
      "Bash(curl:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nrefactor\\(TransferenciaEmbrioes\\): extract types and data loading hook\n\n- Create src/lib/types/transferenciaEmbrioes.ts with all interfaces\n- Create src/hooks/useTransferenciaEmbrioesData.ts with data loading logic\n- Also commit useLotesFIVData.ts from previous refactoring\n\nThis is phase 1-2 of TransferenciaEmbrioes refactoring\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(wc:*)",
      "Bash(tree:*)",
      "Bash(pnpm run build:*)",
      "Bash(npm run dev:*)",
      "Bash(find:*)",
      "Bash(powershell -Command:*)",
      "Bash(npm ls:*)",
      "Bash(npx eslint:*)",
      "Bash(ls:*)",
      "Bash(echo:*)",
      "WebSearch",
      "Bash(dir:*)",
      "Bash(tasklist:*)",
      "Bash(pnpm add:*)",
      "Bash(grep:*)",
      "Bash(pnpm exec vite build:*)",
      "Bash(pnpm install:*)",
      "Bash(xargs -I {} sh -c 'echo \"\"=== {} ===\"\" && head -5 {}')",
      "Bash(for component in \"aspect-ratio\" \"input-otp\" \"navigation-menu\" \"hover-card\" \"accordion\" \"carousel\" \"context-menu\" \"drawer\" \"resizable\" \"menubar\" \"toggle-group\" \"input-otp\" \"collapsible\")",
      "Bash(do echo \"=== $component ===\")",
      "Bash(done)",
      "Bash(xargs -I {} bash -c \"echo ''=== {} ===''; grep -c ''className='' {}\")",
      "Bash(pnpm tsc:*)",
      "Bash(git checkout:*)",
      "Bash(del \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\\\\src\\\\pages\\\\cliente\\\\ClienteNumeros.tsx\")",
      "Bash(del \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\\\\src\\\\pages\\\\cliente\\\\ClienteFazendaDetail.tsx\")",
      "Bash(du:*)",
      "Bash(findstr:*)",
      "Bash(npx supabase --version)",
      "Bash(npx supabase functions list:*)",
      "Bash(npx supabase functions deploy:*)",
      "Bash(npx supabase secrets set:*)",
      "WebFetch(domain:veteriankey.com)",
      "WebFetch(domain:etschool.com)",
      "Bash(xargs:*)",
      "Bash(npx netlify deploy:*)",
      "Bash(netlify deploy:*)",
      "Bash(npx netlify-cli deploy:*)",
      "Bash(npx supabase db execute:*)",
      "Bash(python3:*)",
      "WebFetch(domain:universe.roboflow.com)",
      "WebFetch(domain:roboflow.com)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:ai.google.dev)",
      "WebFetch(domain:pmc.ncbi.nlm.nih.gov)",
      "WebFetch(domain:study.marearts.com)",
      "WebFetch(domain:www.fao.org)",
      "WebFetch(domain:amscope.com)",
      "Bash(npx supabase functions serve:*)",
      "Bash(npx supabase:*)",
      "WebFetch(domain:geminibyexample.com)",
      "Bash(claude mcp add:*)",
      "WebFetch(domain:deno.com)",
      "WebFetch(domain:cloudconvert.com)",
      "WebFetch(domain:www.npmjs.com)",
      "Bash(gcloud --version:*)",
      "Bash(where:*)",
      "Bash(winget search:*)",
      "Bash(start:*)",
      "Bash(\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" --version)",
      "Bash(\"C:\\\\Program Files \\(x86\\)\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" --version)",
      "Bash(\"C:\\\\Program Files\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" --version)",
      "Bash(\"C:\\\\Program Files \\(x86\\)\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" auth login)",
      "Bash(cmd /c \"\"\"C:\\\\Program Files \\(x86\\)\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\"\" auth login\")",
      "Bash(Select-String \"crop_image_path\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat\\(embryoscore\\): migração completa de detecção client-side para server-side\n\nPipeline EmbryoScore agora roda 100% server-side:\n- Cloud Run \\(frame-extractor\\) extrai frames e crops dos vídeos\n- Edge Function embryo-analyze faz detecção via Gemini + scoring\n- Removido OpenCV client-side \\(detectCircles, opencv-types\\)\n- Removidos componentes client-side \\(AnnotatedFrameViewer, DetectionPreview, EmbryoCropImage\\)\n- Simplificados VideoUploadButton, EmbryoHighlightFrame, useEmbryoVideoUpload\n- crop_image_path em embryo_scores para thumbnails via signed URL\n- Fix polling: staleTime 30s→5s, removido shortcut Realtime\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push:*)",
      "WebFetch(domain:ivfbioscience.com)",
      "WebFetch(domain:www.nature.com)",
      "WebFetch(domain:www.mdpi.com)",
      "WebFetch(domain:visgar.vetmed.ufl.edu)",
      "WebFetch(domain:www.tandfonline.com)",
      "WebFetch(domain:developer.nvidia.com)",
      "WebFetch(domain:www.agproud.com)",
      "WebFetch(domain:bovine-ojs-tamu.tdl.org)",
      "WebFetch(domain:jivfww.scholasticahq.com)",
      "WebFetch(domain:www.sciencedirect.com)",
      "WebFetch(domain:rbj.net)",
      "Bash(gcloud run deploy:*)",
      "Bash(\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" run deploy frame-extractor --source \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\\\\cloud-run\\\\frame-extractor\" --project apppassatempo --region us-central1)",
      "Bash(\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" run services logs read frame-extractor --project apppassatempo --region us-central1 --limit 30)",
      "Bash(\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" run services logs read frame-extractor --project apppassatempo --region us-central1 --limit 20)",
      "Bash(set \"GCLOUD=C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\")",
      "Bash(\"%GCLOUD%\" logging read \"resource.type=cloud_run_revision AND resource.labels.service_name=frame-extractor\" --project apppassatempo --limit 10 --format=json)",
      "Bash(cmd /c \"\"\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\"\" logging read \"\"resource.type=cloud_run_revision AND resource.labels.service_name=frame-extractor\"\" --project apppassatempo --limit 10 --format=json\")",
      "Bash(\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" run services describe frame-extractor --project apppassatempo --region us-central1 --format=\"value\\(spec.template.spec.containers[0].resources.limits\\)\")",
      "Bash(\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" run services update frame-extractor --project apppassatempo --region us-central1 --memory 2Gi --cpu 2 --timeout 300)",
      "Bash(\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" run deploy frame-extractor --source \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\\\\cloud-run\\\\frame-extractor\" --project apppassatempo --region us-central1 --memory 2Gi --cpu 2 --timeout 300)",
      "Bash(\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" run services logs read frame-extractor --project apppassatempo --region us-central1 --limit 15)",
      "Bash(\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" run deploy frame-extractor --source \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\\\\cloud-run\\\\frame-extractor\" --project apppassatempo --region us-central1 --memory 2Gi --cpu 2 --timeout 300 --allow-unauthenticated)",
      "Bash(\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" run deploy frame-extractor --source cloud-run/frame-extractor/ --project apppassatempo --region us-central1 --memory 2Gi --cpu 2 --timeout 300 --allow-unauthenticated --quiet)",
      "Bash(\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\" logging read \"resource.type=cloud_run_revision AND resource.labels.service_name=frame-extractor AND severity>=ERROR\" --project apppassatempo --limit 20 --format \"value\\(textPayload\\)\")",
      "Bash(cmd:*)",
      "Bash(cmd.exe /c \"\"\"C:\\\\Users\\\\Miguel\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk\\\\bin\\\\gcloud.cmd\"\" run deploy frame-extractor --source cloud-run\\\\frame-extractor\\\\ --project apppassatempo --region us-central1 --memory 2Gi --cpu 2 --timeout 300 --allow-unauthenticated --quiet 2>&1\")",
      "Bash(\"C:/Users/Miguel/AppData/Local/Google/Cloud SDK/google-cloud-sdk/bin/gcloud.cmd\" run deploy frame-extractor --source \"C:/Users/Miguel/Desktop/PassaGene/Passagene/cloud-run/frame-extractor/\" --project apppassatempo --region us-central1 --memory 2Gi --cpu 2 --timeout 300 --allow-unauthenticated --quiet)",
      "Bash(\"C:/Users/Miguel/AppData/Local/Google/Cloud SDK/google-cloud-sdk/bin/gcloud.cmd\" run deploy frame-extractor --source cloud-run/frame-extractor/ --project apppassatempo --region us-central1 --memory 2Gi --cpu 2 --timeout 300 --allow-unauthenticated --quiet)",
      "Bash(git -C \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\" status -u)",
      "Bash(git -C \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\" diff --stat)",
      "Bash(git -C \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\" log --oneline -5)",
      "Bash(git commit:*)",
      "Bash(git -C \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\" push)",
      "WebFetch(domain:pubmed.ncbi.nlm.nih.gov)",
      "Bash(gcloud.cmd run deploy:*)",
      "Bash(gcloud.cmd run revisions list:*)",
      "Bash(gcloud.cmd run services describe:*)",
      "Bash(gcloud.cmd run services logs read:*)",
      "Bash(git -C \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\" status)",
      "Bash(git -C \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\" add cloud-run/frame-extractor/app.py supabase/functions/embryo-analyze/index.ts src/hooks/useEmbryoScores.ts src/hooks/useEmbryoVideoUpload.ts src/components/layout/MainLayout.tsx src/components/embrioes/PacoteEmbrioesTable.tsx src/lib/embryoscore/prompts.ts src/components/admin/AdminEmbryoScoreTab.tsx src/components/layout/Sidebar.tsx src/contexts/AuthContext.tsx src/App.tsx src/pages/Administrativo.tsx src/pages/EmbryoScore.tsx dist/index.html dist/sw.js)",
      "Bash(git -C \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\" add cloud-run/frame-extractor/app.py supabase/functions/embryo-analyze/index.ts src/hooks/useEmbryoScores.ts src/hooks/useEmbryoVideoUpload.ts src/components/layout/MainLayout.tsx src/components/embrioes/PacoteEmbrioesTable.tsx src/lib/embryoscore/prompts.ts src/components/admin/AdminEmbryoScoreTab.tsx src/components/layout/Sidebar.tsx src/contexts/AuthContext.tsx src/App.tsx src/pages/Administrativo.tsx src/pages/EmbryoScore.tsx)",
      "Bash(git -C \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\" commit -m \"$\\(cat <<''EOF''\nfeat\\(embryoscore\\): v4 otimizado — 1 frame, skip composites, batch Gemini, barra de status\n\n- Cloud Run: parâmetro skip_composites pula composite_frames e heatmap \\(~60% menos payload\\)\n- Cloud Run: fix divisão por zero com num_key_frames=1, memória 4Gi\n- Edge Function: 1 frame central \\(não 3\\), skip_composites: true, Gemini em lotes de 8\n- Hook useGlobalAnalysisQueue retorna dados estruturados \\(pending, processing, timer\\)\n- MainLayout: badge flutuante → barra integrada com progresso, timer 1s, ícone spin\n- Redetect: vincula todos os irmãos ao queue_id \\(fix detecção duplicada\\)\n- Redetect: reutiliza job ativo existente \\(evita jobs duplicados\\)\n- Upload: log detalhado para erros de Storage\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\" pull --rebase)",
      "Bash(git -C \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\" stash)",
      "Bash(git -C \"C:\\\\Users\\\\Miguel\\\\Desktop\\\\PassaGene\\\\Passagene\" stash pop)",
      "WebFetch(domain:api.iconify.design)",
      "Bash(netstat:*)",
      "Bash(timeout:*)",
      "Bash(ping:*)",
      "Bash(git status:*)"
    ]
  }
}
