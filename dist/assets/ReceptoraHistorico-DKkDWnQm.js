import{c as la,l as da,r as A,s as u,j as a,B as q,h as ma}from"./index-TMaXuGT-.js";import{T as fa,S as ua,a as ha,b as pa,c as xa,d as ga}from"./sheet-BQ76kFzy.js";import{u as oa}from"./use-toast-BfiUt0Jw.js";import{e as _a,f as va}from"./dateUtils-eJ5e6apA.js";import{B as ea}from"./baby-qOdji3xf.js";import{A as ja}from"./activity-Cg9VC26c.js";import{C as J}from"./chevron-right-BwBsAfCk.js";import{M as ba}from"./map-pin-C77ztlex.js";import{U as Na}from"./user-plus-CCY8shFU.js";import{C as B,d as H,a as F,b as U}from"./card-DMaHdbj2.js";import{S as ia}from"./StatusBadge-CMfF4j6L.js";import{B as G}from"./badge-CUxYsHH9.js";import{T as Ea,a as Aa,b as sa,c as X,d as Ca,e as Q}from"./table-BcP2BpwR.js";import{E as Da}from"./EmptyState-BdHwPhgd.js";import{D as Ra,b as wa,c as Ta,d as Sa,e as ya,f as za}from"./dialog-9Ry6kCpW.js";import{L as Oa}from"./label-CDZKlFri.js";import{D as Pa}from"./DatePickerBR-CA4qskvz.js";import"./x-_4GU21wu.js";import"./statusLabels-IklKT8dE.js";import"./index-CbBZSCMq.js";import"./popover-C4Z9du6z.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=la("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),_=t=>t&&(_a(t)||t),ra=t=>va(t),na={CADASTRO:{icon:Na,className:"w-4 h-4 text-indigo-600"},MUDANCA_FAZENDA:{icon:ba,className:"w-4 h-4 text-orange-600"},PROTOCOLO:{icon:J,className:"w-4 h-4 text-blue-600"},TE:{icon:da,className:"w-4 h-4 text-green-600"},DG:{icon:ja,className:"w-4 h-4 text-purple-600"},SEXAGEM:{icon:ea,className:"w-4 h-4 text-pink-600"},PARICAO:{icon:ea,className:"w-4 h-4 text-teal-600"},CIO_LIVRE:{icon:fa,className:"w-4 h-4 text-amber-600"}},ca={CADASTRO:{label:"Cadastro",className:"bg-indigo-50 text-indigo-700 border-indigo-200"},MUDANCA_FAZENDA:{label:"Fazenda",className:"bg-orange-50 text-orange-700 border-orange-200"},PROTOCOLO:{label:"Protocolo",className:"bg-blue-50 text-blue-700 border-blue-200"},TE:{label:"TE",className:"bg-green-50 text-green-700 border-green-200"},DG:{label:"DG",className:"bg-purple-50 text-purple-700 border-purple-200"},SEXAGEM:{label:"Sexagem",className:"bg-pink-50 text-pink-700 border-pink-200"},PARICAO:{label:"Parição",className:"bg-teal-50 text-teal-700 border-teal-200"},CIO_LIVRE:{label:"Cio Livre",className:"bg-amber-50 text-amber-700 border-amber-200"}},ta={CONFIRMADA:{label:"Confirmada",className:"bg-emerald-50 text-emerald-700 border-emerald-200"},REJEITADA:{label:"Rejeitada",className:"bg-rose-50 text-rose-700 border-rose-200"},SUBSTITUIDA:{label:"Substituída",className:"bg-slate-50 text-slate-700 border-slate-200"},PENDENTE:{label:"Pendente",className:"bg-amber-50 text-amber-700 border-amber-200"}},Ia=t=>ta[t||"PENDENTE"]||ta.PENDENTE;function Ma(){const{toast:t}=oa(),[p,l]=A.useState(!0),[r,n]=A.useState(null),[d,w]=A.useState([]),[D,T]=A.useState([]),[E,S]=A.useState({totalCiclos:0,totalGestacoes:0,ciclosDesdeUltimaGestacao:0}),x=A.useCallback(async g=>{const i=[],v=[],{data:z,error:L}=await u.from("receptoras").select("*").eq("id",g).single();if(L){if((L==null?void 0:L.code)==="PGRST116")return{receptoraData:null,items:[],itemsAdmin:[],stats:{totalCiclos:0,totalGestacoes:0,ciclosDesdeUltimaGestacao:0}};throw L}const{data:O}=await u.from("receptora_fazenda_historico").select("id, fazenda_id, data_inicio").eq("receptora_id",g).order("data_inicio",{ascending:!0});if(O&&O.length>0){const e=O[0],{data:s}=await u.from("fazendas").select("nome").eq("id",e.fazenda_id).single();v.push({data:_(e.data_inicio),tipo:"CADASTRO",resumo:`Cadastro na fazenda ${(s==null?void 0:s.nome)||"desconhecida"}`});for(let o=1;o<O.length;o++){const c=O[o],j=O[o-1],{data:m}=await u.from("fazendas").select("id, nome").in("id",[j.fazenda_id,c.fazenda_id].filter(Boolean)),b=new Map((m==null?void 0:m.map(f=>[f.id,f.nome]))||[]),h=b.get(j.fazenda_id)||"?",N=b.get(c.fazenda_id)||"?";v.push({data:_(c.data_inicio),tipo:"MUDANCA_FAZENDA",resumo:`${h} → ${N}`})}}const{data:I}=await u.from("protocolo_receptoras").select(`
        id,
        data_inclusao,
        status,
        motivo_inapta,
        protocolos_sincronizacao (
          id,
          data_inicio,
          passo2_data
        )
      `).eq("receptora_id",g).order("data_inclusao",{ascending:!1}),{data:y}=await u.from("diagnosticos_gestacao").select("*").eq("receptora_id",g).eq("tipo_diagnostico","DG").order("data_diagnostico",{ascending:!1}),{data:k}=await u.from("animais").select("id, data_nascimento, sexo").eq("receptora_id",g);if(k&&k.length>0&&k.forEach(e=>{e.data_nascimento&&i.push({data:_(e.data_nascimento),tipo:"PARICAO",resumo:"Parição registrada",detalhes:`Animal ${e.id.substring(0,8)} • Sexo: ${e.sexo||"—"}`})}),I)for(const e of I){const s=Array.isArray(e.protocolos_sincronizacao)?e.protocolos_sincronizacao[0]:e.protocolos_sincronizacao;if(!s||!s.data_inicio)continue;const o=_(s.data_inicio);let c="1º Passo";if(s.passo2_data){const j=_(s.passo2_data);e.status==="APTA"?c="1º Passo • 2º Passo: APTA":e.status==="INAPTA"?(c="1º Passo • 2º Passo: DESCARTADA",e.motivo_inapta&&(c+=` (${e.motivo_inapta})`)):c="1º Passo • 2º Passo",i.push({data:j,tipo:"PROTOCOLO",resumo:c})}else i.push({data:o,tipo:"PROTOCOLO",resumo:c})}const{data:$}=await u.from("transferencias_embrioes").select(`
        id,
        embriao_id,
        data_te,
        status_te,
        embrioes (
          id,
          identificacao,
          classificacao,
          lote_fiv_acasalamento_id
        )
      `).eq("receptora_id",g).order("data_te",{ascending:!1}),V=new Set;$&&$.forEach(e=>{const s=Array.isArray(e.embrioes)?e.embrioes[0]:e.embrioes;s!=null&&s.lote_fiv_acasalamento_id&&V.add(s.lote_fiv_acasalamento_id)});const K=new Map;if(V.size>0){const e=Array.from(V).filter(Boolean);if(e.length>0){const{data:s,error:o}=await u.from("lote_fiv_acasalamentos").select("id, aspiracao_doadora_id, dose_semen_id").in("id",e);if(!o&&s){const c=s.map(h=>h.aspiracao_doadora_id).filter(Boolean),j=s.map(h=>h.dose_semen_id).filter(Boolean),m=new Map;if(c.length>0){const{data:h}=await u.from("aspiracoes_doadoras").select("id, doadora_id").in("id",c);if(h){const N=h.map(f=>f.doadora_id).filter(Boolean);if(N.length>0){const{data:f}=await u.from("doadoras").select("id, registro").in("id",N);if(f){const Z=new Map(f.map(R=>[R.id,R.registro]));h.forEach(R=>{const M=Z.get(R.doadora_id);M&&m.set(R.id,M)})}}}}const b=new Map;if(j.length>0){const{data:h}=await u.from("doses_semen").select("id, touro_id, touro:touros(id, nome, registro, raca)").in("id",j);h&&h.forEach(N=>{const f=N.touro;b.set(N.id,(f==null?void 0:f.nome)||"Touro desconhecido")})}s.forEach(h=>{const N=m.get(h.aspiracao_doadora_id)||"?",f=b.get(h.dose_semen_id)||"?";K.set(h.id,{doadora:N,touro:f})})}}}const W=new Map;if($){const e=new Map;$.forEach(s=>{const o=s.data_te;e.has(o)||e.set(o,[]),e.get(o).push(s)}),e.forEach((s,o)=>{const c=s.filter(m=>m.status_te==="REALIZADA"),j=s.filter(m=>m.status_te==="DESCARTADA");if(c.length>0){const m=[],b=[];c.forEach(N=>{const f=Array.isArray(N.embrioes)?N.embrioes[0]:N.embrioes,Z=(f==null?void 0:f.identificacao)||"Embrião";if(m.push(Z),f!=null&&f.lote_fiv_acasalamento_id){const R=K.get(f.lote_fiv_acasalamento_id);if(R){const M=`${R.doadora} × ${R.touro}`;b.includes(M)||b.push(M)}}});let h=`${c.length} embrião(ões): ${m.join(", ")}`;b.length>0&&(h+=` | ${b.join("; ")}`),i.push({data:_(o),tipo:"TE",resumo:h}),W.set(o,b)}else j.length>0&&i.push({data:_(o),tipo:"TE",resumo:"Descartada para TE"})})}if(y)for(const e of y){let s=e.resultado==="PRENHE"?"PRENHE":e.resultado==="RETOQUE"?"PRENHE (RETOQUE)":"VAZIA";if(e.numero_gestacoes&&e.numero_gestacoes>0&&e.resultado!=="VAZIA"&&(s+=` (${e.numero_gestacoes} gestação${e.numero_gestacoes>1?"ões":""})`),(e.resultado==="PRENHE"||e.resultado==="RETOQUE")&&e.data_te){const o=W.get(e.data_te);o&&o.length>0&&(s+=` | ${o.join("; ")}`)}i.push({data:_(e.data_diagnostico),tipo:"DG",resumo:s})}const{data:Y}=await u.from("diagnosticos_gestacao").select("*").eq("receptora_id",g).eq("tipo_diagnostico","SEXAGEM").order("data_diagnostico",{ascending:!1});if(Y)for(const e of Y){let s="Sexagem: ",o=[];if(e.observacoes){const c=e.observacoes.match(/SEXAGENS:([^|]+)/);c&&(o=c[1].split(",").map(m=>m.trim()).filter(m=>m).map(m=>({FEMEA:"Fêmea",MACHO:"Macho",SEM_SEXO:"Sem Sexo",VAZIA:"Vazia"})[m]||m))}if(o.length===0&&e.sexagem){const c={FEMEA:"Fêmea",MACHO:"Macho"};o.push(c[e.sexagem]||e.sexagem)}o.length>0?(o.length===1?s+=o[0]:o.length===2?o[0]===o[1]?s+=`2 ${o[0]}s`:s+=`${o[0]} e ${o[1]}`:s+=o.join(", "),e.numero_gestacoes&&e.numero_gestacoes>1&&(s+=` (${e.numero_gestacoes} gestações)`)):e.resultado==="PRENHE"?s+="PRENHE":e.resultado==="VAZIA"?s+="VAZIA":s+="Resultado não disponível",i.push({data:_(e.data_diagnostico),tipo:"SEXAGEM",resumo:s})}const{data:aa}=await u.from("receptoras_cio_livre").select("data_cio, observacoes, ativa").eq("receptora_id",g).order("data_cio",{ascending:!1});if(aa&&(z==null?void 0:z.status_cio_livre)==="CONFIRMADA"){const e=aa[0];e!=null&&e.data_cio&&i.push({data:_(e.data_cio),tipo:"CIO_LIVRE",resumo:"Cio livre"})}const P={totalCiclos:0,totalGestacoes:0,ciclosDesdeUltimaGestacao:0};if(I){P.totalCiclos=I.length;let e=null;if(y&&y.length>0){const o=[...y].sort((c,j)=>{const m=_(c.data_diagnostico);return _(j.data_diagnostico).localeCompare(m)}).find(c=>c.resultado==="PRENHE"||c.resultado==="RETOQUE");o&&(e=_(o.data_diagnostico))}if(e)for(const s of I){const o=Array.isArray(s.protocolos_sincronizacao)?s.protocolos_sincronizacao[0]:s.protocolos_sincronizacao;if(!o)continue;const c=o.passo2_data||o.data_inicio;if(!c)continue;_(c)>e&&P.ciclosDesdeUltimaGestacao++}else P.ciclosDesdeUltimaGestacao=P.totalCiclos}if(y){const e=new Set;y.forEach(s=>{if(s.resultado==="PRENHE"||s.resultado==="RETOQUE"){const o=s.data_te||s.data_diagnostico;e.add(o)}}),P.totalGestacoes=e.size}return i.sort((e,s)=>s.data.localeCompare(e.data)),v.sort((e,s)=>s.data.localeCompare(e.data)),{receptoraData:z,items:i,itemsAdmin:v,stats:P}},[]),C=A.useCallback(async g=>{try{l(!0);const i=await x(g);n(i.receptoraData),w(i.items),T(i.itemsAdmin),S(i.stats)}catch(i){t({title:"Erro ao carregar histórico",description:i instanceof Error?i.message:"Erro desconhecido",variant:"destructive"})}finally{l(!1)}},[x,t]);return{loading:p,receptora:r,historico:d,historicoAdmin:D,estatisticas:E,loadData:C,setReceptora:n}}function Ga({receptora:t,onSuccess:p}){const{toast:l}=oa(),[r,n]=A.useState(!1),[d,w]=A.useState(!1),[D,T]=A.useState({data_cio:new Date().toISOString().split("T")[0]});return{submitting:r,showCioLivreDialog:d,setShowCioLivreDialog:w,cioLivreForm:D,setCioLivreForm:T,handleRegistrarCioLivre:async()=>{var C,g;if(!t){l({title:"Receptora não carregada",description:"Abra novamente o histórico para registrar o cio livre.",variant:"destructive"});return}let x=t.fazenda_atual_id;if(!x){const{data:i,error:v}=await u.from("vw_receptoras_fazenda_atual").select("fazenda_id_atual").eq("receptora_id",t.id).limit(1);!v&&i&&i.length>0&&(x=((C=i[0])==null?void 0:C.fazenda_id_atual)||void 0)}if(!x){const{data:i,error:v}=await u.from("receptora_fazenda_historico").select("fazenda_id, data_inicio").eq("receptora_id",t.id).order("data_inicio",{ascending:!1}).limit(1);!v&&i&&i.length>0&&(x=((g=i[0])==null?void 0:g.fazenda_id)||void 0)}if(!x){l({title:"Fazenda não encontrada",description:"A receptora não possui fazenda atual vinculada.",variant:"destructive"});return}if(!D.data_cio){l({title:"Data do cio não informada",description:"Informe a data do cio livre.",variant:"destructive"});return}try{n(!0);const{error:i}=await u.from("receptoras").update({is_cio_livre:!0,status_cio_livre:"PENDENTE"}).eq("id",t.id);if(i)throw i;const{error:v}=await u.from("receptoras_cio_livre").insert([{receptora_id:t.id,fazenda_id:x,data_cio:D.data_cio,observacoes:null,ativa:!0}]);if(v)throw v;l({title:"Cio livre registrado",description:"Receptora liberada para TE. Confirmação automática após a transferência."}),w(!1),T({data_cio:new Date().toISOString().split("T")[0]}),await p()}catch(i){l({title:"Erro ao registrar cio livre",description:i instanceof Error?i.message:"Erro desconhecido",variant:"destructive"})}finally{n(!1)}},handleRejeitarCioLivre:async()=>{if(!(!t||!t.is_cio_livre)&&confirm("Rejeitar este cio livre? A receptora não ficará disponível para TE."))try{n(!0);const{error:x}=await u.from("receptoras").update({is_cio_livre:!1,status_cio_livre:"REJEITADA"}).eq("id",t.id);if(x)throw x;const{error:C}=await u.from("receptoras_cio_livre").update({ativa:!1}).eq("receptora_id",t.id).eq("ativa",!0);if(C)throw C;l({title:"Cio livre rejeitado",description:"O cio livre foi marcado como rejeitado."}),await p()}catch(x){l({title:"Erro ao rejeitar cio livre",description:x instanceof Error?x.message:"Erro desconhecido",variant:"destructive"})}finally{n(!1)}}}}function Ba({receptora:t}){return a.jsx(B,{children:a.jsx(H,{className:"pt-6",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Brinco"}),a.jsx("p",{className:"font-medium",children:t.identificacao})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Nome"}),a.jsx("p",{className:"font-medium",children:t.nome||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500",children:"Status Atual"}),a.jsx(ia,{status:t.status_reprodutivo||"VAZIA"})]})]})})})}function Ha({estatisticas:t}){return a.jsxs(B,{children:[a.jsx(F,{children:a.jsx(U,{className:"text-base",children:"Estatísticas Reprodutivas"})}),a.jsx(H,{children:a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-700",children:t.totalCiclos}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Ciclos Realizados"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("p",{className:"text-2xl font-bold text-green-700",children:t.totalGestacoes}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Gestações"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg border border-orange-200",children:[a.jsx("p",{className:"text-2xl font-bold text-orange-700",children:t.ciclosDesdeUltimaGestacao}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Ciclos desde Última Gestação"})]})]})})]})}function $a({receptora:t,submitting:p,onRejeitar:l}){const r=Ia(t.status_cio_livre);return a.jsxs(B,{children:[a.jsx(F,{children:a.jsx(U,{className:"text-base",children:"Cio Livre"})}),a.jsxs(H,{children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"text-slate-500",children:"Status"}),a.jsx(G,{variant:"outline",className:r.className,children:r.label})]}),t.status_cio_livre==="PENDENTE"&&a.jsx("div",{className:"mt-4 flex items-center gap-2",children:a.jsxs(q,{type:"button",variant:"outline",onClick:l,disabled:p,children:[a.jsx(La,{className:"w-4 h-4 mr-2"}),"Rejeitar Cio Livre"]})})]})]})}function qa({historicoAdmin:t}){if(t.length===0)return null;const p=r=>{const n=na[r];if(!n)return a.jsx(J,{className:"w-4 h-4"});const d=n.icon;return a.jsx(d,{className:n.className})},l=r=>{const n=ca[r];return n?a.jsx(G,{variant:"outline",className:n.className,children:n.label}):a.jsx(G,{variant:"outline",children:r})};return a.jsxs(B,{children:[a.jsx(F,{children:a.jsx(U,{className:"text-base",children:"Histórico Administrativo"})}),a.jsx(H,{children:a.jsx("div",{className:"space-y-3",children:t.map((r,n)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-[100px]",children:[p(r.tipo),l(r.tipo)]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900",children:r.resumo}),a.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:ra(r.data)})]})]},n))})})]})}function Fa({historico:t}){const p=r=>{const n=na[r];if(!n)return a.jsx(J,{className:"w-4 h-4"});const d=n.icon;return a.jsx(d,{className:n.className})},l=r=>{const n=ca[r];return n?a.jsx(G,{variant:"outline",className:n.className,children:n.label}):a.jsx(G,{variant:"outline",children:r})};return a.jsxs(B,{children:[a.jsx(F,{children:a.jsxs(U,{className:"text-base",children:["Linha do Tempo Reprodutiva (",t.length," eventos)"]})}),a.jsx(H,{children:t.length===0?a.jsx(Da,{title:"Nenhum evento registrado",description:"Quando houver eventos, eles aparecerão aqui."}):a.jsxs(Ea,{children:[a.jsx(Aa,{children:a.jsxs(sa,{children:[a.jsx(X,{className:"w-[100px]",children:"Data"}),a.jsx(X,{className:"w-[120px]",children:"Tipo"}),a.jsx(X,{children:"Resumo"})]})}),a.jsx(Ca,{children:t.map((r,n)=>a.jsxs(sa,{className:"hover:bg-slate-50",children:[a.jsx(Q,{className:"font-medium text-sm",children:ra(r.data)}),a.jsx(Q,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[p(r.tipo),l(r.tipo)]})}),a.jsx(Q,{children:a.jsx("span",{className:"text-sm",children:r.resumo})})]},n))})]})})]})}function Ua({open:t,onOpenChange:p,receptora:l,cioLivreForm:r,setCioLivreForm:n,submitting:d,onSubmit:w}){const D=(l==null?void 0:l.status_reprodutivo)||"VAZIA",T=E=>{p(E),E&&n({data_cio:new Date().toISOString().split("T")[0]})};return a.jsx(Ra,{open:t,onOpenChange:T,children:a.jsxs(wa,{className:"max-w-lg",children:[a.jsxs(Ta,{children:[a.jsx(Sa,{children:"Registrar Cio Livre"}),a.jsx(ya,{children:"Registre a data do cio livre. A confirmação ocorrerá automaticamente após a TE."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-3 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{children:"Receptora"}),a.jsxs("span",{className:"font-medium",children:[l==null?void 0:l.identificacao," ",l!=null&&l.nome?`- ${l.nome}`:""]})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[a.jsx("span",{children:"Status atual"}),a.jsx(ia,{status:D})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oa,{children:"Data do cio *"}),a.jsx(Pa,{value:r.data_cio,onChange:E=>n(S=>({...S,data_cio:E||""})),required:!0})]})]}),a.jsxs(za,{children:[a.jsx(q,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),a.jsx(q,{type:"button",onClick:w,disabled:d,children:"Registrar Cio Livre"})]})]})})}function fe({receptoraId:t,open:p,onClose:l,onUpdated:r}){const{loading:n,receptora:d,historico:w,historicoAdmin:D,estatisticas:T,loadData:E}=Ma(),{submitting:S,showCioLivreDialog:x,setShowCioLivreDialog:C,cioLivreForm:g,setCioLivreForm:i,handleRegistrarCioLivre:v,handleRejeitarCioLivre:z}=Ga({receptora:d,onSuccess:async()=>{await E(t),r==null||r()}});return A.useEffect(()=>{p&&t&&E(t)},[p,t,E]),a.jsxs(ua,{open:p,onOpenChange:l,children:[a.jsxs(ha,{className:"w-full sm:max-w-3xl overflow-y-auto",children:[a.jsxs(pa,{children:[a.jsx(xa,{children:"Histórico da Receptora"}),a.jsx(ga,{children:d?`Brinco ${d.identificacao} ${d.nome?`- ${d.nome}`:""}`:"Carregando..."})]}),d&&!d.is_cio_livre&&a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(q,{type:"button",onClick:()=>C(!0),children:"Registrar Cio Livre"})}),n?a.jsx("div",{className:"py-8",children:a.jsx(ma,{})}):a.jsxs("div",{className:"mt-6 space-y-4",children:[d&&a.jsxs(a.Fragment,{children:[a.jsx(Ba,{receptora:d}),d.is_cio_livre&&a.jsx($a,{receptora:d,submitting:S,onRejeitar:z}),a.jsx(Ha,{estatisticas:T})]}),a.jsx(qa,{historicoAdmin:D}),a.jsx(Fa,{historico:w})]})]}),a.jsx(Ua,{open:x,onOpenChange:C,receptora:d,cioLivreForm:g,setCioLivreForm:i,submitting:S,onSubmit:v})]})}export{fe as default};
