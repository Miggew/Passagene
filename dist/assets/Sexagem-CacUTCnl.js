import{b as Be,r as l,s as j,j as e,B as Ze,f as Ue}from"./index-B-7HRnm0.js";import{a as Je,e as Qe,d as Ke,b as Ye,c as We}from"./dataEnrichment-B3oy6j3b.js";import{t as ea}from"./dateUtils-eJ5e6apA.js";import{C as ne,d as ce,a as aa,b as sa,c as ta}from"./card-DdhhEbXV.js";import{T as oa,a as ra,b as Re,c as C,d as ia,e as F}from"./table-fky3lpGR.js";import{S as de,a as le,b as me,c as ue,d as L}from"./select-B0M3FCy4.js";import{I as ge}from"./input-D2h8r4MO.js";import{B as Ce}from"./badge-BCHVCiM7.js";import{P as na}from"./PageHeader-CT7CFo0W.js";import{u as ca}from"./use-toast-DDUqdzpY.js";import{D as da}from"./DatePickerBR-XHkKTcYs.js";import{u as la,a as ma,D as q,v as ua}from"./useLotesTE-Iu55zgB1.js";import{A as ga,a as xa,b as fa,c as _a,d as pa,e as ha,f as va,g as Ea}from"./alert-dialog-CSZ8uCy0.js";import{U as ba}from"./user-B8IJeGnS.js";import{M as ja}from"./map-pin-B7CeMiQc.js";import{S as Sa}from"./save-DAusptDg.js";import{T as Fe}from"./triangle-alert-DsRw1gwV.js";import"./index-B4eR1KA_.js";import"./check-C6h7QFZL.js";import"./chevron-right-DntnbvYp.js";import"./popover-i4alam_g.js";import"./pt-BR-DS62bWKG.js";import"./differenceInCalendarDays-CrzntjZV.js";import"./calendar-D8momPux.js";const B="passagene_sexagem_rascunho",Na=24;function ls(){const{toast:O}=ca();Be();const V=ea(),[E,xe]=l.useState(""),[i,Z]=l.useState(null),[x,M]=l.useState([]),[Me,fe]=l.useState(!1),[_e,pe]=l.useState(!1),[S,I]=l.useState({}),[_,U]=l.useState({veterinario_responsavel:"",tecnico_responsavel:""}),[Ie,Aa]=l.useState([]),[wa,Da]=l.useState(!1),[he,Ra]=l.useState("todos"),[Ca,Fa]=l.useState("todos"),[X,Ma]=l.useState(""),[Ia,ya]=l.useState(""),[Oa,Ha]=l.useState(""),[za,Pa]=l.useState("data_sexagem"),[Ta,ye]=l.useState([]),[ve,Ga]=l.useState(1),ee=15,[Oe,J]=l.useState(!1),{fazendas:ae,loadFazendas:se}=la({statusReceptoraFiltro:["PRENHE","PRENHE_RETOQUE"]}),He=l.useCallback((a,s)=>({...a,veterinario_sexagem:s==null?void 0:s.veterinario_responsavel,tecnico_sexagem:s==null?void 0:s.tecnico_responsavel}),[]),{lotesTE:Ee,loading:be,loadLotesTE:je}=ma({statusReceptoraFiltro:["PRENHE","PRENHE_RETOQUE"],transformLote:He}),Se=()=>{try{const a=localStorage.getItem(B);if(!a)return null;const s=JSON.parse(a);return(Date.now()-s.timestamp)/(1e3*60*60)>Na||!(Object.keys(s.formData).length>0)?(localStorage.removeItem(B),null):s}catch{return null}},Ne=l.useCallback(()=>{if(!i||Object.keys(S).length===0||!Object.values(S).some(r=>r.sexagens.some(t=>t!=="")||r.observacoes))return;const s={fazenda_id:E,lote_id:i.id,lote_data_te:i.data_te,formData:S,loteFormData:_,timestamp:Date.now()};localStorage.setItem(B,JSON.stringify(s))},[E,i,S,_]),Ae=()=>{localStorage.removeItem(B)},ze=async()=>{const a=Se();a&&(xe(a.fazenda_id),U(a.loteFormData),sessionStorage.setItem("sexagem_formdata_restore",JSON.stringify(a.formData)),O({title:"Sessão restaurada",description:"Continuando a sexagem de onde você parou."})),J(!1)},Pe=()=>{Ae(),sessionStorage.removeItem("sexagem_formdata_restore"),J(!1)};l.useEffect(()=>{Se()&&J(!0)},[]),l.useEffect(()=>{Ne()},[Ne]),l.useEffect(()=>{const a=sessionStorage.getItem("sexagem_formdata_restore");if(a&&x.length>0)try{const s=JSON.parse(a),r={};x.forEach(t=>{s[t.receptora_id]?r[t.receptora_id]=s[t.receptora_id]:r[t.receptora_id]={data_sexagem:V,sexagens:Array(t.numero_gestacoes).fill(""),observacoes:""}}),I(r),sessionStorage.removeItem("sexagem_formdata_restore")}catch{sessionStorage.removeItem("sexagem_formdata_restore")}},[x,V]),l.useEffect(()=>{se(),Te()},[se]),l.useEffect(()=>{var a;if(E){const s=(a=ae.find(r=>r.id===E))==null?void 0:a.nome;je(E,s)}else Z(null),M([]),I({})},[E]),l.useEffect(()=>{i?((i.veterinario_sexagem||i.tecnico_sexagem)&&U({veterinario_responsavel:i.veterinario_sexagem||_.veterinario_responsavel,tecnico_responsavel:i.tecnico_sexagem||_.tecnico_responsavel}),Ge(i)):(M([]),I({}))},[i]);const Te=async()=>{const{data:a}=await j.from("fazendas").select("id, nome").order("nome");ye(a||[])},Ge=async a=>{try{fe(!0);const{data:s}=await j.from("vw_receptoras_fazenda_atual").select("receptora_id").eq("fazenda_id_atual",a.fazenda_id),r=(s==null?void 0:s.map(o=>o.receptora_id))||[],{data:t}=await j.from("receptoras").select("id, identificacao, nome, status_reprodutivo").in("id",r).in("status_reprodutivo",["PRENHE","PRENHE_RETOQUE"]),m=(t==null?void 0:t.map(o=>o.id))||[];if(m.length===0){M([]);return}const[g,D,H]=await Promise.all([j.from("transferencias_embrioes").select("id, receptora_id, embriao_id, data_te").in("receptora_id",m).eq("data_te",a.data_te).eq("status_te","REALIZADA"),j.from("diagnosticos_gestacao").select("*").in("receptora_id",m).eq("tipo_diagnostico","DG").eq("data_te",a.data_te).order("data_diagnostico",{ascending:!1}),j.from("diagnosticos_gestacao").select("*").in("receptora_id",m).eq("tipo_diagnostico","SEXAGEM").eq("data_te",a.data_te).order("data_diagnostico",{ascending:!1})]),z=g.data,c=D.data,d=H.data;if(!z||z.length===0){M([]);return}const u=z.map(o=>o.embriao_id).filter(Boolean);let f=new Map;if(u.length>0){const{data:o}=await j.from("embrioes").select("id, identificacao, classificacao, lote_fiv_id, lote_fiv_acasalamento_id").in("id",u);o&&(f=new Map(o.map(n=>[n.id,n])))}const P=Array.from(f.values()),N=Je(P),re=Qe(P),[A,Q]=await Promise.all([Ke(N),Ye(re)]),{doadorasMap:T,tourosMap:K}=Q,G=new Map;c==null||c.forEach(o=>{G.has(o.receptora_id)||G.set(o.receptora_id,o)});const p=new Map;d==null||d.forEach(o=>{p.has(o.receptora_id)||p.set(o.receptora_id,o)});const y=new Map;z.forEach(o=>{const n=`${o.receptora_id}-${o.data_te}`;y.has(n)||y.set(n,[]),y.get(n).push(o)});const h=[];y.forEach(o=>{const n=o[0],v=t==null?void 0:t.find(W=>W.id===n.receptora_id);if(!v)return;const k=[];let w=null,Y=null;if(o.forEach(W=>{const b=f.get(W.embriao_id);if(!b)return;const ie=A.get(b.lote_fiv_id);if(!ie)return;w||(w=ie.data_abertura,Y=We(ie.data_abertura));const $e=b.lote_fiv_acasalamento_id?T.get(b.lote_fiv_acasalamento_id):void 0,qe=b.lote_fiv_acasalamento_id?K.get(b.lote_fiv_acasalamento_id):void 0;k.push({te_id:W.id,embriao_id:b.id,embriao_identificacao:b.identificacao,embriao_classificacao:b.classificacao,lote_fiv_id:b.lote_fiv_id,lote_fiv_acasalamento_id:b.lote_fiv_acasalamento_id,doadora_registro:$e,touro_nome:qe})}),k.length===0||!w||Y===null)return;const $=G.get(n.receptora_id);!$||$.resultado==="VAZIA"||h.push({receptora_id:n.receptora_id,brinco:v.identificacao,nome:v.nome,data_te:n.data_te,embrioes:k,data_abertura_lote:w,dias_gestacao:Y,numero_gestacoes:$.numero_gestacoes||1,diagnostico_existente:p.get(n.receptora_id)?{id:p.get(n.receptora_id).id,data_diagnostico:p.get(n.receptora_id).data_diagnostico,resultado:p.get(n.receptora_id).resultado,numero_gestacoes:p.get(n.receptora_id).numero_gestacoes,observacoes:p.get(n.receptora_id).observacoes}:void 0})}),h.sort((o,n)=>o.brinco.localeCompare(n.brinco)),M(h);const R={};h.forEach(o=>{if(o.diagnostico_existente){const n=p.get(o.receptora_id);let v=new Array(o.numero_gestacoes).fill("").map(()=>""),k=o.diagnostico_existente.observacoes||"";if(n!=null&&n.observacoes){const w=n.observacoes.match(/SEXAGENS:([^|]+)/);if(w){for(v=w[1].split(",").map($=>$.trim());v.length<o.numero_gestacoes;)v.push("");v=v.slice(0,o.numero_gestacoes),k=n.observacoes.replace(/SEXAGENS:[^|]+\|?/,"").trim()}}v.every(w=>!w)&&(n!=null&&n.sexagem)&&(v[0]=n.sexagem),R[o.receptora_id]={data_sexagem:o.diagnostico_existente.data_diagnostico,sexagens:v,observacoes:k}}else R[o.receptora_id]={data_sexagem:V,sexagens:new Array(o.numero_gestacoes).fill("").map(()=>""),observacoes:""}}),I(R)}catch(s){O({title:"Erro ao carregar receptoras",description:s instanceof Error?s.message:"Erro desconhecido",variant:"destructive"}),M([])}finally{fe(!1)}},ke=(a,s,r)=>{I(t=>{const m=t[a]||{data_sexagem:V,sexagens:[],observacoes:""},g=[...m.sexagens];return g[s]=r,{...t,[a]:{...m,sexagens:g}}})},we=(a,s,r)=>{I(t=>({...t,[a]:{...t[a],[s]:r}}))},Le=a=>{const s=a.filter(g=>g&&g!=="VAZIA");if(s.length===0)return"VAZIA";const r=s.includes("FEMEA"),t=s.includes("MACHO"),m=s.includes("SEM_SEXO");return r&&!t&&!m?"PRENHE_FEMEA":t&&!r&&!m?"PRENHE_MACHO":r&&t?"PRENHE_2_SEXOS":"PRENHE_SEM_SEXO"},Ve=async()=>{var s;if(!i)return;if(!ua(_)){O({title:"Erro de validação",description:"Veterinário responsável é obrigatório",variant:"destructive"});return}const a=x.filter(r=>{const t=S[r.receptora_id];return!t||!t.data_sexagem||!t.sexagens||t.sexagens.every(m=>!m)});if(a.length>0){O({title:"Erro de validação",description:`Há ${a.length} receptora(s) sem sexagem definida`,variant:"destructive"});return}try{pe(!0);const r=[],t=[],m=[];x.forEach(c=>{var G,p,y;const d=S[c.receptora_id];if(!d||!d.data_sexagem)return;const u=d.sexagens.filter(h=>h&&h!=="VAZIA"),f=Le(d.sexagens),P=f==="VAZIA"?"VAZIA":"PRENHE";let N=null;if(P==="PRENHE"){const h=u.every(o=>o==="FEMEA")&&u.length>0,R=u.every(o=>o==="MACHO")&&u.length>0;h?N="FEMEA":R?N="MACHO":N=u.find(o=>o==="FEMEA"||o==="MACHO")||null}(N==="PRENHE"||N==="SEM_SEXO")&&(N=u.find(R=>R==="FEMEA"||R==="MACHO")||null);const re=P==="VAZIA"?0:u.length;let A=((G=d.observacoes)==null?void 0:G.trim())||"";const Q=d.sexagens.filter(h=>h),T=Q.length>0?Q.join(","):"";T&&(A.includes("SEXAGENS:")?A=A.replace(/SEXAGENS:[^|]+/,`SEXAGENS:${T}`):A=A?`SEXAGENS:${T}|${A}`:`SEXAGENS:${T}`);const K={receptora_id:c.receptora_id,data_te:c.data_te,tipo_diagnostico:"SEXAGEM",data_diagnostico:d.data_sexagem,resultado:P,sexagem:N,numero_gestacoes:re,observacoes:A||void 0,veterinario_responsavel:((p=_.veterinario_responsavel)==null?void 0:p.trim())||void 0,tecnico_responsavel:((y=_.tecnico_responsavel)==null?void 0:y.trim())||void 0};c.diagnostico_existente?t.push({id:c.diagnostico_existente.id,...K}):r.push(K),m.push({receptora_id:c.receptora_id,status:f})});const g=[];r.length>0&&g.push(j.from("diagnosticos_gestacao").insert(r).then(({error:c})=>{if(c)throw new Error(`Erro ao inserir sexagens: ${c.message}`)})),t.forEach(c=>{const{id:d,...u}=c;g.push(j.from("diagnosticos_gestacao").update(u).eq("id",d).then(({error:f})=>{if(f)throw new Error(`Erro ao atualizar sexagem: ${f.message}`)}))}),await Promise.all(g);const D=new Map;m.forEach(({receptora_id:c,status:d})=>{D.has(d)||D.set(d,[]),D.get(d).push(c)});for(const[c,d]of D.entries()){const u={status_reprodutivo:c};c==="VAZIA"&&(u.data_provavel_parto=null);const{error:f}=await j.from("receptoras").update(u).in("id",d);if(f)throw console.error("Erro ao atualizar status:",f,"Status:",c,"IDs:",d),new Error(`Erro ao atualizar status das receptoras: ${f.message}`);console.log(`Status atualizado para ${c}:`,d)}const H=x.every(c=>{const d=S[c.receptora_id];return d&&d.data_sexagem&&d.sexagens&&d.sexagens.some(u=>u)});O({title:"Lote salvo com sucesso",description:H?`${x.length} sexagem(ns) registrada(s). Lote fechado.`:`${x.length} sexagem(ns) registrada(s)`}),Ae(),H?(Z(null),M([]),I({})):Z({...i,veterinario_sexagem:_.veterinario_responsavel.trim(),tecnico_sexagem:_.tecnico_responsavel.trim(),status:"ABERTO"});const z=(s=ae.find(c=>c.id===E))==null?void 0:s.nome;se(),E&&je(E,z)}catch(r){O({title:"Erro ao salvar lote",description:r instanceof Error?r.message:"Erro desconhecido",variant:"destructive"})}finally{pe(!1)}},Xe=x.every(a=>{const s=S[a.receptora_id];return s&&s.data_sexagem&&s.sexagens&&s.sexagens.some(r=>r)}),De=a=>{if(!a)return"-";const[s,r,t]=a.split("-");return`${t}/${r}/${s}`},te=Ie.filter(a=>{var t;const s=!X||a.fazenda_nome.toLowerCase().includes(X.toLowerCase())||((t=a.veterinario_responsavel)==null?void 0:t.toLowerCase().includes(X.toLowerCase()))||a.receptoras.some(m=>{var g;return m.receptora_brinco.toLowerCase().includes(X.toLowerCase())||((g=m.receptora_nome)==null?void 0:g.toLowerCase().includes(X.toLowerCase()))}),r=he==="todos"||a.fazenda_nome===he;return s&&r}),oe=te.reduce((a,s)=>({total:a.total+s.total_receptoras,femeas:a.femeas+s.femeas,machos:a.machos+s.machos,vazias:a.vazias+s.vazias}),{total:0,femeas:0,machos:0,vazias:0});return oe.total>0&&Math.round(oe.vazias/oe.total*100),Math.ceil(te.length/ee),te.slice((ve-1)*ee,ve*ee),e.jsxs("div",{className:"space-y-6",children:[e.jsx(na,{title:"Sexagem Fetal",description:"Registrar sexagem fetal por lote de receptoras prenhes"}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"rounded-xl border border-border bg-gradient-to-r from-card via-card to-muted/30 p-4 mb-4",children:[e.jsxs("div",{className:"flex flex-wrap items-end gap-6",children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"w-1 h-6 rounded-full bg-primary/40 self-center"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium text-muted-foreground self-center",children:[e.jsx(ba,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Responsáveis"})]}),e.jsxs("div",{className:"flex-1 min-w-[160px]",children:[e.jsx("label",{className:"text-[10px] font-medium text-muted-foreground mb-1 block uppercase tracking-wide",children:"Veterinário *"}),e.jsx(ge,{placeholder:"Nome do veterinário",value:_.veterinario_responsavel,onChange:a=>U(s=>({...s,veterinario_responsavel:a.target.value})),className:"h-9"})]}),e.jsxs("div",{className:"flex-1 min-w-[160px]",children:[e.jsx("label",{className:"text-[10px] font-medium text-muted-foreground mb-1 block uppercase tracking-wide",children:"Técnico"}),e.jsx(ge,{placeholder:"Nome do técnico",value:_.tecnico_responsavel,onChange:a=>U(s=>({...s,tecnico_responsavel:a.target.value})),className:"h-9"})]})]}),e.jsx("div",{className:"h-10 w-px bg-border hidden lg:block"}),e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"w-1 h-6 rounded-full bg-emerald-500/40 self-center"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium text-muted-foreground self-center",children:[e.jsx(ja,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Local"})]}),e.jsxs("div",{className:"flex-1 min-w-[160px]",children:[e.jsx("label",{className:"text-[10px] font-medium text-muted-foreground mb-1 block uppercase tracking-wide",children:"Fazenda *"}),e.jsxs(de,{value:E,onValueChange:xe,disabled:!_.veterinario_responsavel,children:[e.jsx(le,{className:"h-9",children:e.jsx(me,{placeholder:"Selecione a fazenda"})}),e.jsx(ue,{children:ae.map(a=>e.jsx(L,{value:a.id,children:a.nome},a.id))})]})]}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"text-[10px] font-medium text-muted-foreground mb-1 block uppercase tracking-wide",children:"Lote TE *"}),e.jsxs(de,{value:(i==null?void 0:i.id)||"",onValueChange:a=>{const s=Ee.find(r=>r.id===a);Z(s||null)},disabled:!E||be,children:[e.jsx(le,{className:"h-9",children:e.jsx(me,{placeholder:be?"Carregando...":"Selecione o lote"})}),e.jsx(ue,{children:Ee.map(a=>{const s=a.dias_gestacao!==void 0&&a.dias_gestacao<q.SEXAGEM;return e.jsx(L,{value:a.id,children:e.jsxs("span",{className:s?"text-amber-600":"",children:[De(a.data_te)," • ",a.dias_gestacao??"?","d • ",a.quantidade_receptoras," rec.",s&&" ⚠️"]})},a.id)})})]})]})]}),e.jsx("div",{className:"h-10 w-px bg-border hidden lg:block"}),e.jsx("div",{className:"flex items-end gap-3 ml-auto",children:e.jsxs(Ze,{onClick:Ve,disabled:!i||!Xe||_e||(i==null?void 0:i.status)==="FECHADO"||(i==null?void 0:i.dias_gestacao)!==void 0&&i.dias_gestacao<q.SEXAGEM,className:"h-9 px-6 bg-primary hover:bg-primary-dark shadow-sm",children:[e.jsx(Sa,{className:"w-4 h-4 mr-2"}),_e?"Salvando...":"Salvar Lote"]})})]}),i&&i.dias_gestacao!==void 0&&i.dias_gestacao<q.SEXAGEM&&e.jsxs("div",{className:"flex items-center gap-2 mt-3 p-2 bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-lg",children:[e.jsx(Fe,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 flex-shrink-0"}),e.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:["Este lote está com ",i.dias_gestacao," dias. Sexagem requer mínimo de ",q.SEXAGEM," dias (faltam ",q.SEXAGEM-i.dias_gestacao,")."]})]})]}),Me?e.jsx(ne,{children:e.jsx(ce,{className:"py-8",children:e.jsx(Ue,{})})}):i&&x.length>0?e.jsxs(ne,{children:[e.jsx(aa,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{children:[e.jsx(sa,{className:"text-base",children:"Receptoras do Lote"}),e.jsxs(ta,{children:[x.length," receptora(s) • TE em ",De(i.data_te)]})]}),i.status==="FECHADO"&&e.jsx(Ce,{variant:"secondary",children:"Lote Fechado"})]})})}),e.jsx(ce,{className:"pt-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(oa,{children:[e.jsx(ra,{children:e.jsxs(Re,{children:[e.jsx(C,{children:"Receptora"}),e.jsx(C,{children:"Dias Gest."}),e.jsx(C,{children:"Embrião"}),e.jsx(C,{children:"Doadora × Touro"}),e.jsx(C,{children:"Nº Gest."}),e.jsx(C,{children:"Data Sexagem"}),e.jsx(C,{children:"Sexagem(ns)"}),e.jsx(C,{children:"Obs."})]})}),e.jsx(ia,{children:x.map(a=>{const s=S[a.receptora_id]||{data_sexagem:V,sexagens:new Array(a.numero_gestacoes).fill("").map(()=>""),observacoes:""},r=i.status==="FECHADO";return e.jsxs(Re,{children:[e.jsx(F,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[a.brinco,a.nome&&e.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",a.nome,")"]})]})}),e.jsx(F,{children:e.jsxs(Ce,{variant:"outline",className:"font-mono",children:[a.dias_gestacao,"d"]})}),e.jsx(F,{children:e.jsx("div",{className:"space-y-0.5",children:a.embrioes.map((t,m)=>e.jsxs("div",{className:"text-sm",children:[t.embriao_identificacao||`#${m+1}`,t.embriao_classificacao&&e.jsxs("span",{className:"text-muted-foreground text-xs ml-1",children:["(",t.embriao_classificacao,")"]})]},t.te_id))})}),e.jsx(F,{children:e.jsx("div",{className:"space-y-0.5 text-sm",children:a.embrioes.map(t=>e.jsxs("div",{children:[t.doadora_registro||"-",t.touro_nome&&` × ${t.touro_nome}`]},t.te_id))})}),e.jsx(F,{className:"text-center font-medium",children:a.numero_gestacoes}),e.jsx(F,{children:e.jsx(da,{value:s.data_sexagem,onChange:t=>we(a.receptora_id,"data_sexagem",t||""),className:"w-32",disabled:r})}),e.jsx(F,{children:e.jsx("div",{className:"flex gap-1",children:Array.from({length:a.numero_gestacoes},(t,m)=>{const g=s.sexagens[m]||"",D=a.numero_gestacoes>1?`G${m+1}`:"--";return e.jsxs(de,{value:g,onValueChange:H=>ke(a.receptora_id,m,H),disabled:r,children:[e.jsx(le,{className:"w-24 h-9",children:e.jsx(me,{placeholder:D})}),e.jsxs(ue,{children:[e.jsx(L,{value:"FEMEA",children:"Fêmea"}),e.jsx(L,{value:"MACHO",children:"Macho"}),e.jsx(L,{value:"SEM_SEXO",children:"Sem sexo"}),e.jsx(L,{value:"VAZIA",children:"Vazia"})]})]},m)})})}),e.jsx(F,{children:e.jsx(ge,{value:s.observacoes,onChange:t=>we(a.receptora_id,"observacoes",t.target.value),placeholder:"Obs.",className:"w-32 h-9",disabled:r})})]},a.receptora_id)})})]})})})]}):i&&x.length===0?e.jsx(ne,{children:e.jsx(ce,{className:"py-8 text-center text-muted-foreground",children:"Nenhuma receptora prenhe encontrada neste lote"})}):null]}),e.jsx(ga,{open:Oe,onOpenChange:J,children:e.jsxs(xa,{children:[e.jsxs(fa,{children:[e.jsxs(_a,{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-5 w-5 text-primary"}),"Sexagem não finalizada"]}),e.jsx(pa,{children:"Você tem uma sessão de sexagem em andamento que não foi finalizada. Deseja continuar de onde parou?"})]}),e.jsxs(ha,{children:[e.jsx(va,{onClick:Pe,children:"Descartar"}),e.jsx(Ea,{onClick:ze,children:"Restaurar"})]})]})})]})}export{ls as default};
