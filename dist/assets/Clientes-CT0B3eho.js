import{r as t,s as j,j as e,a as p,L as o,B as l}from"./index-DM5u2d-F.js";import{C as f,a as g,b as u,d as C}from"./card-B_EQ6x91.js";import{T as b,a as E,b as d,c as a,d as N,e as r}from"./table-CEKyj1ed.js";import{P as T}from"./PageHeader-JgO8x5IE.js";import{E as y}from"./EmptyState-ChaxWsz8.js";import{h as w}from"./error-handler-BKHO4AyN.js";import{P as L}from"./plus-DJrruxx9.js";import{E as v}from"./eye-8DczHlUQ.js";import"./use-toast-BOUGyrIz.js";function A(){const[i,c]=t.useState([]),[m,h]=t.useState(!0);t.useEffect(()=>{x()},[]);const x=async()=>{try{const{data:s,error:n}=await j.from("clientes").select("*").order("nome",{ascending:!0});if(n)throw n;c(s||[])}catch(s){w(s,"Erro ao carregar clientes")}finally{h(!1)}};return m?e.jsx(p,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(T,{title:"Clientes",description:"Gerenciar clientes do sistema",actions:e.jsx(o,{to:"/clientes/novo",children:e.jsxs(l,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]})})}),e.jsxs(f,{children:[e.jsx(g,{children:e.jsx(u,{children:"Lista de Clientes"})}),e.jsx(C,{children:i.length===0?e.jsx(y,{title:"Nenhum cliente cadastrado",description:"Cadastre o primeiro cliente para começar."}):e.jsxs(b,{children:[e.jsx(E,{children:e.jsxs(d,{children:[e.jsx(a,{children:"Nome"}),e.jsx(a,{children:"Telefone"}),e.jsx(a,{children:"Endereço"}),e.jsx(a,{children:"Cadastrado em"}),e.jsx(a,{className:"text-right",children:"Ações"})]})}),e.jsx(N,{children:i.map(s=>e.jsxs(d,{children:[e.jsx(r,{className:"font-medium",children:s.nome}),e.jsx(r,{children:s.telefone||"-"}),e.jsx(r,{children:s.endereco||"-"}),e.jsx(r,{children:s.created_at?new Date(s.created_at).toLocaleDateString("pt-BR"):"-"}),e.jsx(r,{className:"text-right",children:e.jsx(o,{to:`/clientes/${s.id}`,children:e.jsx(l,{variant:"ghost",size:"sm",children:e.jsx(v,{className:"w-4 h-4"})})})})]},s.id))})]})})]})]})}export{A as default};
