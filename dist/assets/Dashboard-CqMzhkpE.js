import{c as v,r as d,s as t,j as e,a as f,S as N,T as h,D as C,A as y,b as A,d as E,L as S,B as D}from"./index-DM5u2d-F.js";import{C as a,a as r,b as c,c as l,d as i}from"./card-B_EQ6x91.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=v("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);function w(){const[o,x]=d.useState({protocolosAbertos:0,receptorasSincronizadas:0,embrioesFrescosDisponiveis:0,embrioesCongeladosEstoque:0}),[p,b]=d.useState(!0);d.useEffect(()=>{g()},[]);const g=async()=>{try{const{count:s}=await t.from("protocolos_sincronizacao").select("*",{count:"exact",head:!0}).is("data_retirada",null),{count:n}=await t.from("protocolo_receptoras").select("*",{count:"exact",head:!0}).in("status",["APTA","SINCRONIZADA"]),{count:u}=await t.from("v_embrioes_disponiveis_te").select("*",{count:"exact",head:!0}).eq("disponivel_fresco_hoje",!0),{count:j}=await t.from("v_embrioes_disponiveis_te").select("*",{count:"exact",head:!0}).eq("disponivel_congelado",!0);x({protocolosAbertos:s||0,receptorasSincronizadas:n||0,embrioesFrescosDisponiveis:u||0,embrioesCongeladosEstoque:j||0})}catch{}finally{b(!1)}},m=[{label:"Novo Protocolo",path:"/protocolos/novo",icon:N,color:"bg-green-600 hover:bg-green-700"},{label:"Registrar Retirada",path:"/protocolos",icon:_,color:"bg-blue-600 hover:bg-blue-700"},{label:"Nova Aspiração",path:"/aspiracoes/novo",icon:h,color:"bg-purple-600 hover:bg-purple-700"},{label:"Criar Lote FIV",path:"/lotes-fiv/novo",icon:h,color:"bg-indigo-600 hover:bg-indigo-700"},{label:"Gerar Embriões",path:"/embrioes/novo",icon:C,color:"bg-pink-600 hover:bg-pink-700"},{label:"TE do Protocolo",path:"/transferencia",icon:y,color:"bg-orange-600 hover:bg-orange-700"},{label:"Lançar DG",path:"/dg",icon:A,color:"bg-teal-600 hover:bg-teal-700"},{label:"Lançar Sexagem",path:"/sexagem",icon:E,color:"bg-cyan-600 hover:bg-cyan-700"}];return p?e.jsx(f,{}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Dashboard"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Visão geral do sistema de FIV/TE"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Ações Rápidas"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m.map(s=>{const n=s.icon;return e.jsx(S,{to:s.path,children:e.jsxs(D,{className:`w-full h-24 flex flex-col items-center justify-center gap-2 ${s.color} text-white`,children:[e.jsx(n,{className:"w-6 h-6"}),e.jsx("span",{className:"text-sm font-medium text-center",children:s.label})]})},s.path)})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Estatísticas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsx(c,{className:"text-lg",children:"Protocolos Abertos"}),e.jsx(l,{children:"Em andamento"})]}),e.jsx(i,{children:e.jsx("p",{className:"text-4xl font-bold text-green-600",children:o.protocolosAbertos})})]}),e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsx(c,{className:"text-lg",children:"Receptoras Sincronizadas"}),e.jsx(l,{children:"Aptas para TE"})]}),e.jsx(i,{children:e.jsx("p",{className:"text-4xl font-bold text-blue-600",children:o.receptorasSincronizadas})})]}),e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsx(c,{className:"text-lg",children:"Embriões Frescos"}),e.jsx(l,{children:"Disponíveis hoje (D7/D8)"})]}),e.jsx(i,{children:e.jsx("p",{className:"text-4xl font-bold text-purple-600",children:o.embrioesFrescosDisponiveis})})]}),e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsx(c,{className:"text-lg",children:"Embriões Congelados"}),e.jsx(l,{children:"Em estoque"})]}),e.jsx(i,{children:e.jsx("p",{className:"text-4xl font-bold text-cyan-600",children:o.embrioesCongeladosEstoque})})]})]})]})]})}export{w as default};
