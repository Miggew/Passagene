import{r as a,j as e,B as u,L as x,u as n,s as C}from"./index-BPMeM9-O.js";import{I as d}from"./input-tqcTRdPv.js";import{C as h,d as f,a as E,b as S,c as P}from"./card-8azKTSNJ.js";import{l as p}from"./logoescrito-Bdqlvdft.js";import{C as U}from"./circle-check-big-KXy1j2Uw.js";import{E as k}from"./eye-off-COgmHbjX.js";import{E as L}from"./eye-CZithoXn.js";import{U as B}from"./user-plus-NL-39gGx.js";function q(){const[i,j]=a.useState(""),[r,g]=a.useState(""),[l,N]=a.useState(""),[t,m]=a.useState(!1),[o,b]=a.useState(!1),[v,y]=a.useState(!1),w=async s=>{if(s.preventDefault(),!i.trim()||!r||!l){n.error("Preencha todos os campos");return}if(r.length<6){n.error("A senha deve ter pelo menos 6 caracteres");return}if(r!==l){n.error("As senhas não coincidem");return}m(!0);const{error:c}=await C.auth.signUp({email:i.trim(),password:r});m(!1),c?c.message.includes("already registered")?n.error("Este email já está cadastrado"):n.error("Erro ao criar conta: "+c.message):y(!0)};return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:p,alt:"PassaGene",className:"h-16 w-auto"})}),e.jsx(h,{children:e.jsxs(f,{className:"pt-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-subtle rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(U,{className:"w-8 h-8 text-primary"})}),e.jsx("h2",{className:"font-heading text-xl font-semibold text-foreground mb-2",children:"Conta criada!"}),e.jsxs("p",{className:"text-muted-foreground mb-6",children:["Enviamos um link de confirmação para ",e.jsx("strong",{className:"text-foreground",children:i}),". Verifique sua caixa de entrada (e spam) para ativar sua conta."]}),e.jsx(u,{asChild:!0,children:e.jsx(x,{to:"/login",children:"Voltar ao Login"})})]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:p,alt:"PassaGene",className:"h-16 w-auto"})}),e.jsxs(h,{children:[e.jsxs(E,{className:"text-center",children:[e.jsx(S,{children:"Criar nova conta"}),e.jsx(P,{children:"Preencha os dados abaixo para se cadastrar"})]}),e.jsxs(f,{children:[e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),e.jsx(d,{type:"email",value:i,onChange:s=>j(s.target.value),placeholder:"seu@email.com",disabled:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"Senha (mínimo 6 caracteres)"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{type:o?"text":"password",value:r,onChange:s=>g(s.target.value),placeholder:"Crie uma senha",disabled:t,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>b(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:o?e.jsx(k,{className:"w-4 h-4"}):e.jsx(L,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"Confirmar senha"}),e.jsx(d,{type:o?"text":"password",value:l,onChange:s=>N(s.target.value),placeholder:"Repita a senha",disabled:t})]}),e.jsx(u,{type:"submit",disabled:t,className:"w-full",size:"lg",children:t?e.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-4 h-4"}),"Criar conta"]})})]}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Já tem uma conta?"," ",e.jsx(x,{to:"/login",className:"text-primary font-medium hover:underline",children:"Fazer login"})]})]})]})]})})}export{q as default};
