import{c as g,r as t,j as e,B as l,L as o,u as c,s as N}from"./index-B-7HRnm0.js";import{I as b}from"./input-D2h8r4MO.js";import{C as m,d,a as w,b as y,c as v}from"./card-DdhhEbXV.js";import{l as u}from"./logoescrito-8k2gFWOl.js";import{A as E}from"./arrow-left-D9wDrV6g.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=g("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);function P(){const[s,h]=t.useState(""),[a,i]=t.useState(!1),[f,j]=t.useState(!1),p=async r=>{if(r.preventDefault(),!s.trim()){c.error("Informe seu email");return}i(!0);const{error:n}=await N.auth.resetPasswordForEmail(s.trim(),{redirectTo:window.location.origin+window.location.pathname});i(!1),n?c.error("Erro ao enviar email: "+n.message):j(!0)};return f?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:u,alt:"PassaGene",className:"h-16 w-auto"})}),e.jsx(m,{children:e.jsxs(d,{className:"pt-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-subtle rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(x,{className:"w-8 h-8 text-primary"})}),e.jsx("h2",{className:"font-heading text-xl font-semibold text-foreground mb-2",children:"Email enviado!"}),e.jsxs("p",{className:"text-muted-foreground mb-6",children:["Se existe uma conta com ",e.jsx("strong",{className:"text-foreground",children:s}),", você receberá um link para redefinir sua senha. Verifique sua caixa de entrada e spam."]}),e.jsx(l,{asChild:!0,children:e.jsx(o,{to:"/login",children:"Voltar ao Login"})})]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:u,alt:"PassaGene",className:"h-16 w-auto"})}),e.jsxs(m,{children:[e.jsxs(w,{className:"text-center",children:[e.jsx(y,{children:"Esqueceu sua senha?"}),e.jsx(v,{children:"Informe seu email e enviaremos um link para redefinir sua senha."})]}),e.jsxs(d,{children:[e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email"}),e.jsx(b,{type:"email",value:s,onChange:r=>h(r.target.value),placeholder:"seu@email.com",disabled:a})]}),e.jsx(l,{type:"submit",disabled:a,className:"w-full",size:"lg",children:a?e.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"w-4 h-4"}),"Enviar link de recuperação"]})})]}),e.jsxs(o,{to:"/login",className:"flex items-center justify-center gap-1 text-sm text-muted-foreground hover:text-primary mt-6 transition-colors",children:[e.jsx(E,{className:"w-4 h-4"}),"Voltar ao login"]})]})]})]})})}export{P as default};
