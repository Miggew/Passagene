@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Fonte grande para uso no campo */
html.font-grande {
  font-size: 18px;
}

@layer base {

  :root {
    /* Light Mode Backgrounds */
    --bg-primary: #F7FAF8;
    --bg-card: #FFFFFF;
    --bg-card-hover: #F0F4F1;
    --bg-subtle: #E8EDE9;
    --bg-warm: #FDFCF7;

    /* Light Mode Bordas */
    --border-default: #E2E8E4;
    --border-active: #34D399;
    --border-gold: #D4A24C;

    /* Light Mode Textos */
    --text-primary: #080B0A;
    --text-secondary: #4E5F54;
    --text-muted: #8A9B90;

    /* Light Mode Verde */
    --green: #1A7A50;
    --green-glow: rgba(26, 122, 80, 0.10);
    --green-dim: #34D399;

    /* Light Mode Dourado */
    --gold: #8B6A2F;
    --gold-light: #D4A24C;
    --gold-glow: rgba(139, 106, 47, 0.12);
    --gold-dim: #E8C77B;

    /* Light Mode Semânticas */
    --success: #1A7A50;
    --warning: #D97706;
    --danger: #DC2626;
    --info: #0284C7;

    /* Compatibilidade Base Shadcn - Light */
    --background: 153 30% 98%;
    --foreground: 153 16% 4%;
    --card: 0 0% 100%;
    --card-foreground: 153 16% 4%;
    --popover: 0 0% 100%;
    --popover-foreground: 153 16% 4%;
    --primary: 158 64% 40%;
    --primary-foreground: 0 0% 100%;
    --secondary: 152 20% 90%;
    --secondary-foreground: 153 16% 4%;
    --muted: 151 20% 92%;
    --muted-foreground: 151 10% 45%;
    --accent: 38 61% 56%;
    --accent-foreground: 153 16% 4%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 155 15% 90%;
    --input: 155 15% 90%;
    --ring: 158 64% 40%;

    /* DNA Gradient (brand identity — same in light & dark) */
    --gradient-dna: linear-gradient(135deg, #34D399, #D4A24C);
    --gradient-dna-subtle: linear-gradient(135deg, rgba(52, 211, 153, 0.15), rgba(212, 162, 76, 0.10));
    --gradient-dna-border: linear-gradient(135deg, rgba(52, 211, 153, 0.25), rgba(212, 162, 76, 0.15));
    --gradient-dna-text: linear-gradient(135deg, #09C972, #D4A24C);

    /* Radius base */
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 14px;
    --radius-xl: 20px;
    --radius: 10px;

    /* Cores Globais da Marca */
    --logo-bg: 0 0% 100%;
    --logo-passa: 153 16% 4%;
    --logo-gene: 158 64% 40%;
    --logo-front: 158 64% 40%;
    --logo-back: 38 61% 56%;

    /* Sidebar Light */
    --sidebar-background: 153 30% 98%;
    --sidebar-foreground: 153 16% 4%;
    --sidebar-primary: 158 64% 40%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 152 20% 90%;
    --sidebar-accent-foreground: 153 16% 4%;
    --sidebar-border: 155 15% 90%;
    --sidebar-ring: 158 64% 40%;
  }

  .dark {
    /* Backgrounds */
    --bg-primary: #080B0A;
    --bg-card: #0F1412;
    --bg-card-hover: #141C18;
    --bg-subtle: #0D1210;
    --bg-warm: #12100D;

    /* Bordas */
    --border-default: #1C2822;
    --border-active: #2A5C3F;
    --border-gold: #3D2E14;
    /* Textos */
    --text-primary: #ECF0ED;
    --text-secondary: #8A9B90;
    --text-muted: #5E7268;

    /* Verde */
    --green: #34D399;
    --green-glow: rgba(52, 211, 153, 0.10);
    --green-dim: #1A7A50;

    /* Dourado */
    --gold: #D4A24C;
    --gold-light: #E8C77B;
    --gold-glow: rgba(212, 162, 76, 0.12);
    --gold-dim: #8B6A2F;

    /* Semânticas */
    --success: #34D399;
    --warning: #F59E0B;
    --danger: #E05252;
    --info: #5BA4CF;

    /* Compatibilidade Base Shadcn - Mapeando para as nossas novas */
    --background: 153 16% 4%;
    /* #080B0A */
    --foreground: 144 19% 93%;
    /* #ECF0ED */
    --card: 156 14% 7%;
    /* #0F1412 */
    --card-foreground: 144 19% 93%;
    --popover: 156 14% 7%;
    --popover-foreground: 144 19% 93%;
    --primary: 158 64% 52%;
    /* #34D399 */
    --primary-foreground: 153 16% 4%;
    --secondary: 152 7% 57%;
    /* #8A9B90 */
    --secondary-foreground: 153 16% 4%;
    --muted: 151 10% 35%;
    /* #4E5F54 */
    --muted-foreground: 144 19% 93%;
    --accent: 38 61% 56%;
    /* #D4A24C */
    --accent-foreground: 153 16% 4%;
    --destructive: 0 69% 60%;
    /* #E05252 */
    --destructive-foreground: 144 19% 93%;
    --border: 155 18% 13%;
    /* #1C2822 */
    --input: 155 18% 13%;
    --ring: 158 64% 52%;

    /* DNA Gradient (brand identity — same in light & dark) */
    --gradient-dna: linear-gradient(135deg, #34D399, #D4A24C);
    --gradient-dna-subtle: linear-gradient(135deg, rgba(52, 211, 153, 0.15), rgba(212, 162, 76, 0.10));
    --gradient-dna-border: linear-gradient(135deg, rgba(52, 211, 153, 0.25), rgba(212, 162, 76, 0.15));
    --gradient-dna-text: linear-gradient(135deg, #09C972, #D4A24C);

    /* Radius base */
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 14px;
    --radius-xl: 20px;
    --radius: 10px;

    /* Cores Globais da Marca para Componentes React (Sincronia Logo <-> UI) */
    --logo-bg: 156 14% 7%;
    --logo-passa: 0 0% 100%;
    --logo-gene: 158 64% 52%;
    --logo-front: 158 64% 52%;
    --logo-back: 38 61% 56%;

    /* Sidebar */
    --sidebar-background: 153 16% 4%;
    --sidebar-foreground: 144 19% 93%;
    --sidebar-primary: 158 64% 52%;
    --sidebar-primary-foreground: 153 16% 4%;
    --sidebar-accent: 156 14% 7%;
    --sidebar-accent-foreground: 144 19% 93%;
    --sidebar-border: 155 18% 13%;
    --sidebar-ring: 158 64% 52%;
  }
}



@layer base {
  body {
    font-family: 'Outfit', sans-serif;
    @apply text-foreground;
    background-color: var(--bg-primary);
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  .data,
  .price,
  .score,
  .id {
    font-family: 'JetBrains Mono', monospace;
  }

  /* Esconder spinners de inputs numéricos */
  input[type="number"]::-webkit-outer-spin-button,
  input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type="number"] {
    -moz-appearance: textfield;
    appearance: textfield;
  }

  /* Ícones de inputs de tempo e data no dark mode */
  .dark input[type="time"]::-webkit-calendar-picker-indicator,
  .dark input[type="date"]::-webkit-calendar-picker-indicator,
  .dark input[type="datetime-local"]::-webkit-calendar-picker-indicator {
    filter: invert(1) brightness(0.8);
  }

  /* PWA / Mobile Styles */
  html {
    /* Prevenir zoom em inputs no iOS */
    touch-action: manipulation;
  }

  /* Safe area para iOS (notch, home indicator) */
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  .safe-area-top {
    padding-top: env(safe-area-inset-top, 0px);
  }

  /* Prevenir seleção acidental de texto em elementos interativos */
  button,
  a,
  [role="button"] {
    -webkit-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }

  /* Melhor scrolling no iOS */
  .overflow-auto,
  .overflow-y-auto,
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
  }

  /* Touch targets mínimos (44px recomendado por Apple) */
  @media (max-width: 768px) {

    button,
    a,
    [role="button"],
    input,
    select,
    textarea {
      min-height: 44px;
    }

    /* Ajuste de fontes para legibilidade */
    html {
      font-size: 16px;
    }
  }
}

/* EmbryoAnalysisBar shimmer animation */
@keyframes embryo-shimmer {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(400%);
  }
}

/* DNA Wave Loading Animation */
@keyframes dna-wave {

  0%,
  100% {
    opacity: 0.08;
  }

  20%,
  35% {
    opacity: 1;
  }

  60% {
    opacity: 0.08;
  }
}

.dna-wave .dna-m1 {
  animation: dna-wave 2.4s ease-in-out infinite 0.12s;
}

.dna-wave .dna-m2 {
  animation: dna-wave 2.4s ease-in-out infinite 0.26s;
}

.dna-wave .dna-m3 {
  animation: dna-wave 2.4s ease-in-out infinite 0.40s;
}

.dna-wave .dna-m6 {
  animation: dna-wave 2.4s ease-in-out infinite 0.70s;
}

.dna-wave .dna-m5 {
  animation: dna-wave 2.4s ease-in-out infinite 0.85s;
}

.dna-wave .dna-m4 {
  animation: dna-wave 2.4s ease-in-out infinite 1.00s;
}

/* Animações Orgânicas Disruptivas (CSS-Only / Alta Performance) */
@keyframes mitosis-left {

  0%,
  100% {
    transform: translateX(0) scale(1.1);
    opacity: 0.9;
  }

  50% {
    transform: translateX(-120%) scale(0.6);
    opacity: 0.4;
  }
}

@keyframes mitosis-right {

  0%,
  100% {
    transform: translateX(0) scale(1.1);
    opacity: 0.9;
  }

  50% {
    transform: translateX(120%) scale(0.6);
    opacity: 0.4;
  }
}

@keyframes bio-breathe {

  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.05);
  }
}

/* Organic Mitosis Text Float */
@keyframes organic-float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-4px);
  }
}

.animate-organic-float {
  animation: organic-float 3s ease-in-out infinite;
}

/* Fecho Ecler (DNA Timeline Animada) */
@layer utilities {
  .animate-dna-left {
    animation: slideInLeftDNA 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
  }

  .animate-dna-right {
    animation: slideInRightDNA 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
  }
}

@keyframes slideInLeftDNA {
  from {
    opacity: 0;
    transform: translateX(-50px) translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateX(0) translateY(0);
  }
}

@keyframes slideInRightDNA {
  from {
    opacity: 0;
    transform: translateX(50px) translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateX(0) translateY(0);
  }
}

/* Phosphorescent Skeleton Shimmer */
@keyframes shimmer-phosphor {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

@layer utilities {
  .glow-green {
    box-shadow: 0 0 20px rgba(52, 211, 153, 0.15);
  }

  .glow-gold {
    box-shadow: 0 0 20px rgba(212, 162, 76, 0.12);
  }

  .btn-primary-gold {
    background: linear-gradient(135deg, #D4A24C, #8B6A2F);
    color: #080B0A;
    box-shadow: 0 0 20px rgba(212, 162, 76, 0.12);
  }

  .btn-primary-green {
    background: linear-gradient(135deg, #34D399, #1A7A50);
    color: #080B0A;
    box-shadow: 0 0 20px rgba(52, 211, 153, 0.15);
  }

  .text-gradient-logo {
    background: linear-gradient(135deg, var(--green), var(--gold));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* CSS SVG Noise pattern for frosted effect */
  :root {
    --glass-noise: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  }

  .glass-panel {
    @apply bg-background/50 backdrop-blur-[24px] backdrop-saturate-[1.3] border-0 transition-all duration-300;
    box-shadow:
      0 8px 30px 0 rgba(0, 0, 0, 0.04),
      inset 0 1px 1px 0 rgba(255, 255, 255, 0.3),
      inset 0 -1px 1px 0 rgba(0, 0, 0, 0.01);
  }

  .glass-panel::before {
    content: "";
    position: absolute;
    inset: 0;
    opacity: 0.1;
    mix-blend-mode: overlay;
    background-image: var(--glass-noise);
    border-radius: inherit;
    pointer-events: none;
    z-index: -1;
  }

  /* Directional Rim Light — DNA green (#34D399 / #1A7A50) → gold (#D4A24C / #8B6A2F) */
  .glass-panel::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg,
        rgba(26, 122, 80, 0.4) 0%,
        rgba(52, 211, 153, 0.3) 15%,
        rgba(255, 255, 255, 0.15) 30%,
        rgba(255, 255, 255, 0.0) 50%,
        rgba(255, 255, 255, 0.15) 70%,
        rgba(212, 162, 76, 0.25) 85%,
        rgba(139, 106, 47, 0.4) 100%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    opacity: 0.6;
    transition: opacity 0.3s ease;
  }

  /* Hover Enhancement (Optional for clickable cards) */
  .glass-panel.clickable:hover::after,
  button.glass-panel:hover::after,
  a.glass-panel:hover::after {
    background: linear-gradient(135deg,
        rgba(26, 122, 80, 0.7) 0%,
        rgba(52, 211, 153, 0.5) 15%,
        rgba(255, 255, 255, 0.3) 30%,
        rgba(255, 255, 255, 0.0) 50%,
        rgba(255, 255, 255, 0.3) 70%,
        rgba(212, 162, 76, 0.5) 85%,
        rgba(139, 106, 47, 0.6) 100%);
  }

  .glass-panel:not(.fixed):not(.absolute) {
    position: relative;
  }

  .dark .glass-panel {
    @apply bg-background/40;
    box-shadow:
      0 10px 30px 0 rgba(0, 0, 0, 0.2),
      inset 0 1px 1px 0 rgba(255, 255, 255, 0.05),
      inset 0 -1px 1px 0 rgba(0, 0, 0, 0.15);
  }

  .dark .glass-panel::before {
    opacity: 0.08;
  }

  .dark .glass-panel::after {
    opacity: 0.6;
    background: linear-gradient(135deg,
        rgba(52, 211, 153, 0.3) 0%,
        rgba(255, 255, 255, 0.1) 20%,
        rgba(255, 255, 255, 0.0) 40%,
        rgba(255, 255, 255, 0.0) 60%,
        rgba(255, 255, 255, 0.1) 80%,
        rgba(212, 162, 76, 0.2) 100%);
  }

  .dark .glass-panel.clickable:hover::after,
  .dark button.glass-panel:hover::after,
  .dark a.glass-panel:hover::after {
    opacity: 1;
    background: linear-gradient(135deg,
        rgba(52, 211, 153, 0.5) 0%,
        rgba(255, 255, 255, 0.2) 20%,
        rgba(255, 255, 255, 0.0) 40%,
        rgba(255, 255, 255, 0.0) 60%,
        rgba(255, 255, 255, 0.15) 80%,
        rgba(212, 162, 76, 0.4) 100%);
  }

  /* VoiceFAB Premium Aura */
  @keyframes spin-slow {
    to {
      transform: rotate(1turn);
    }
  }

  @keyframes breathe-glow {

    0%,
    100% {
      box-shadow: 0 0 20px 0 rgba(52, 211, 153, 0.2), 0 0 40px 0 rgba(212, 162, 76, 0.1);
    }

    50% {
      box-shadow: 0 0 30px 5px rgba(52, 211, 153, 0.4), 0 0 60px 10px rgba(212, 162, 76, 0.2);
    }
  }

  .voice-fab-glow {
    animation: breathe-glow 4s ease-in-out infinite;
  }

  .voice-fab-aura {
    background: conic-gradient(from 0deg,
        transparent 0deg,
        rgba(52, 211, 153, 1) 90deg,
        transparent 180deg,
        rgba(212, 162, 76, 1) 270deg,
        transparent 360deg);
    animation: spin-slow 5s linear infinite;
  }

  .voice-fab-core {
    @apply bg-black/60 backdrop-blur-[24px];
    box-shadow: inset 0 1px 1px 0 rgba(255, 255, 255, 0.15);
  }

  /* ── Unified Input Bar: Waveform Bars ── */
  @keyframes waveform-bar {
    0%, 100% { transform: scaleY(0.25); }
    50%      { transform: scaleY(1); }
  }

  .waveform-bar-1 { animation: waveform-bar 0.7s ease-in-out infinite 0.00s; }
  .waveform-bar-2 { animation: waveform-bar 0.7s ease-in-out infinite 0.10s; }
  .waveform-bar-3 { animation: waveform-bar 0.7s ease-in-out infinite 0.22s; }
  .waveform-bar-4 { animation: waveform-bar 0.7s ease-in-out infinite 0.35s; }
  .waveform-bar-5 { animation: waveform-bar 0.7s ease-in-out infinite 0.48s; }

  /* ── Unified Input Bar: Recording Glow (soft red shadow, no hard border) ── */
  @keyframes recording-glow {
    0%, 100% { box-shadow: 0 0 12px 2px rgba(224, 82, 82, 0.25), inset 0 0 0 1px rgba(224, 82, 82, 0.3); }
    50%      { box-shadow: 0 0 24px 4px rgba(224, 82, 82, 0.4), inset 0 0 0 1px rgba(224, 82, 82, 0.5); }
  }

  .recording-glow {
    animation: recording-glow 1.5s ease-in-out infinite;
  }

  /* ── Unified Input Bar: Inline Mic Breathe ── */
  @keyframes inline-mic-breathe {
    0%, 100% { box-shadow: 0 0 12px 0 rgba(52, 211, 153, 0.15), 0 0 24px 0 rgba(212, 162, 76, 0.08); }
    50%      { box-shadow: 0 0 18px 3px rgba(52, 211, 153, 0.3), 0 0 36px 6px rgba(212, 162, 76, 0.15); }
  }

  .inline-mic-breathe {
    animation: inline-mic-breathe 4s ease-in-out infinite;
  }
}

/* Bancada — SVG marker pulse */
@keyframes marker-pulse {
  0%, 100% { opacity: 0.3; r: inherit; }
  50% { opacity: 0.7; }
}

.animate-marker-pulse {
  animation: marker-pulse 1.5s ease-in-out infinite;
}

/* Scrollbar fina para painéis flutuantes */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: rgba(255,255,255,0.2) transparent;
}
.scrollbar-thin::-webkit-scrollbar { width: 4px; }
.scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
.scrollbar-thin::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 2px; }